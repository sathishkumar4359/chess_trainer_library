<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChessReps | Opening Library</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --zinc-950: #09090b;
            --zinc-900: #18181b;
            --zinc-800: #27272a;
            --zinc-700: #3f3f46;
            --accent: #81b64c; /* Chess.com Green */
            --violet: #a78bfa;
        }

        body {
            background-color: var(--zinc-950);
            color: #fff;
            font-family: 'Nunito', sans-serif;
            margin: 0;
            padding: 20px;
        }

        .container { max-width: 1000px; margin: 0 auto; }

        header { text-align: center; padding: 40px 0; }
        h1 { font-size: 2.5rem; font-weight: 800; margin-bottom: 10px; }
        p.subtitle { color: #a1a1aa; font-size: 1.1rem; }

        /* The Grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        /* Modern Card Design */
        .card {
            background: linear-gradient(145deg, var(--zinc-800), var(--zinc-900));
            border: 1px solid var(--zinc-700);
            border-radius: 16px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            border-color: var(--violet);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* Fake Image Thumbnail (Like Chessreps) */
        .thumb {
            width: 80px;
            height: 80px;
            background: var(--zinc-700);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .info { flex: 1; }
        .info h3 { margin: 0; font-size: 1.25rem; color: #f4f4f5; }
        .info p { margin: 5px 0 0; font-size: 0.85rem; color: #a1a1aa; }

        .tag {
            background: #fbbf24;
            color: #000;
            font-size: 10px;
            font-weight: 800;
            padding: 2px 8px;
            border-radius: 4px;
            position: absolute;
            top: 15px;
            right: 15px;
        }

        #status { text-align: center; color: var(--zinc-700); margin-top: 100px; }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Chess Opening Courses</h1>
            <p class="subtitle">Master your repertoire with spaced repetition drills.</p>
        </header>

        <div id="status">Scanning your GitHub repository...</div>
        <div class="grid" id="menuGrid"></div>
    </div>

    <script>
        async function fetchLibrary() {
            const USER = "sathishkumar4359";
            const REPO = "chess_trainer_library";
            const grid = document.getElementById('menuGrid');
            const status = document.getElementById('status');

            try {
                const res = await fetch(`https://api.github.com/repos/${USER}/${REPO}/contents/openings`);
                const files = await res.json();
                status.style.display = 'none';

                files.forEach(file => {
                    if (file.name.endsWith('.json') || file.name.endsWith('.pgn')) {
                        const name = file.name.split('.')[0].replace(/_/g, ' ');
                        const card = document.createElement('div');
                        card.className = 'card';
                        
                        card.innerHTML = `
                            <div class="tag">NEW</div>
                            <div class="thumb">♟️</div>
                            <div class="info">
                                <h3>${name}</h3>
                                <p>Interactive practice mode</p>
                            </div>
                        `;

                        card.onclick = () => {
                            localStorage.setItem('opening_url', file.download_url);
                            window.location.href = 'board.html';
                        };
                        grid.appendChild(card);
                    }
                });
            } catch (e) {
                status.innerText = "Error: Could not connect to GitHub.";
            }
        }
        fetchLibrary();
    </script>
</body>
</html>
